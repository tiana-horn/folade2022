{% extends 'base.html' %}
{% load static %}

<!DOCTYPE html>
<html lang="en">
  {% block title %}
  <title> RSVP </title>
  {% endblock title %}
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://unpkg.com/tachyons/css/tachyons.min.css">
  {% block content %}
  <body class='forumfont ' >
    <div class="floating-menu flex-wrap flex justify-between fl-100">

      
      <h1 class="tc  f1 fl w-100 f2 pt1  imperial ma0"> Fola & Lade </h1>
      <h5 class="tc  f5 fl w-100 pt0 forumfont ma0"> Friday, April 29 - Saturday, April 30 </h5>

      
  </div>

    <nav class="dt tc w-100 mw8 center"> 
      <div class="dtc w2 v-mid pa3">
      </div>
      
      
      <div class="dtc v-mid regmenu tr pt3 ph0">
        <a class="f4 fw4 hover-green no-underline black dn dib-ns pv2 ph2" href="{% url 'story' %}" >Our Story</a> 
        <a class="f4 fw4 hover-green no-underline black dn dib-l pv2 ph2" href="{% url 'schedule' %}" >Schedule</a> 
        <a class="f4 fw4 hover-green no-underline black dn dib-ns pv2 ph2" href="{% url 'registry' %}" >Registry</a> 

        <a class="f4 fw4 hover-green no-underline black dn dib-l pv2 ph2" href="{% url 'gallery' %}" >Gallery</a> 

        <div class="f1 fw3  black dn dib-l pl7 pv2 ph1 imperial"  >Fola & Lade </div> 

        <a class="f4 fw4 hover-green no-underline black dn dib-l pv2 ph2" href="{% url 'party' %}" >Wedding Party</a> 
        <a class="f4 fw4 hover-green no-underline black dn dib-l pv2 ph2" href="{% url 'accomodations' %}" > Travel & Accommodations</a>
        <a class="f4 fw4 hover-green no-underline black dn dib-ns pv2 p12" href="{% url 'faq' %}" >FAQ</a> 
 
        <a class="f4 fw4 hover-green no-underline black dib ml2 pv2 ph2 ba" href="{% url 'findguest' %}" >RSVP</a> 
      </div>
    </nav> 
    <div class="mobilemenu black">
      <nav role="navigation">
        <div id="menuToggle">
          <!--
          A fake / hidden checkbox is used as click reciever,
          so you can use the :checked selector on it.
          -->
          <input type="checkbox" />
          
          <!--
          Some spans to act as a hamburger.
          
          They are acting like a real hamburger,
          not that McDonalds stuff.
          -->
          <span></span>
          <span></span>
          <span></span>
          
          <!--
          Too bad the menu has to be inside of the button
          but hey, it's pure CSS magic.
          -->
          <ul id="menu" class="mobilemenu">
            <a class="f2  hover-green no-underline black   mv7 " href="{% url 'story' %}" >Our Story</a> 
            <br>
            <a class="f2  hover-green no-underline black   mv7 " href="{% url 'schedule' %}" >Schedule</a> 
            <br>
            <a class="f2  hover-green no-underline black   mv7 " href="{% url 'accomodations' %}" >Travel & <br>Accommodations</a> 
            <br>
            <a class="f2  hover-green no-underline black   mv7 " href="{% url 'party' %}" >Wedding Party</a> 
            <br>
            <a class="f2  hover-green no-underline black   mv7 " href="{% url 'gallery' %}" >Gallery</a> 
            <br>
            <a class="f2  hover-green no-underline black   mb7  mv7 " href="{% url 'registry' %}" >Registry</a>
            <br> 
            <a class="f2  hover-green no-underline black   mv7 " href="{% url 'faq' %}" >FAQ</a> 
            <br>
            <a class="f2  hover-green no-underline black  mv7  ba" href="{% url 'findguest' %}" >RSVP</a> 
          </ul>
        </div>
      </nav>
    </div>
    <img class=" center topimg flex fl-w-100 pt0" src="https://folade.s3.us-east-2.amazonaws.com/static/img/PngItem_789758.png">

      <h1 class="f1 mw6 center mt5 imperial tc">rsvp</h1>
            <div class="f5 mt1  pt1  tc ">

              <h5 class="f3 mt0 ph3 tc ">Hi {{ guest.name }}, please rsvp for {{ invites.count }} event{% if invites.count > 1 %}s {% endif %} </h5>


                {% for invite in invites %}
                  <h1 class="f2  pb1 mv0 pt0  tc ">
                    <b>{{ invite.event }} </b><br>
                  </h1> 
                  <div class="b  ">
                    <h5 class="f5  mv0 pv0  tc ">
                      {{ invite.event.date }} <br>
                    </h5> 
                    <h5 class="f5  mv0 pv0  tc ">
                      {{ invite.event.time }} <br>
                    </h5> 
                    <h5 class="f5  mv0 pv0 pb3 tc ">
                      {{ invite.event.location }} <br>
                    </h5> 
                </div>
   
              
 
                  <form class="mv2 " role="form" action="{% url 'change_rsvp' pk=invite.pk %}" method="post">
        
                    {% csrf_token %}
                      {% if invite.attending%} 
                          <button class="pv3 ph4 mv1 bg-green b--solid bw1 bn" attending="True" type="submit">
                            I will attend &#127881;
                          </button>
                          <br>
                          <button class="pa2 mv1  bg-silver  bn" attending="False" type="submit">
                          I will not attend
                          </button>
      

                     {% else%}
                          <button class="pa3 mv1   bg-silver bn" attending="True" type="submit">
                           I will attend
                          </button>
                          <br>
                          <button class="pa3 mv1 bg-green b--solid bw1 bn" attending="False" type="submit">
                          I will not attend &#129344;
                          </button>
                    {% endif %}
               
                  </form>

                  <h5 class="mv0 pv0 dib">                     
                    <form class="mt2  " role="form" action="{% url 'plus_one' pk=invite.pk %}" method="post">
                      <label for="Name" class="f4 b db mb2">Are you bringing a plus one or extra guests?</label>
                      {% csrf_token %}
                      {{ plus_one_form.as_p }}
                    <input type="submit" class="b white bg-green tc ba b--black bg-transparent grow f5" value="Add Plus One" />
                    </form>
                  </h5>

                  {% for person in extra_guests %}
                    {% if person.accompanying == invite %}
                      <h4 class="f4">Additional Guest: {{ person.name }}
                      <form method="POST" action="{% url 'delete_guest' pk=person.pk%}">
                        {% csrf_token %}
                      <button class="f6 link  bg-red" type="submit"><span>Remove Extra Guest</span></button>
                      </form></h4>
                      {% endif %}
                  {% endfor %}

                  <div class="pt2 pt3 bb b--black-40">
                  </div>

                {% endfor %}
                <form class="mt2  " role="form" action="{% url 'rsvp' pk=guest.pk %}" method="post">
                  {% csrf_token %}
                 <h2>Dietary Restrictions:{{ guest_form.diet }}</h2>
                 <h2>Food Allergies: {{ guest_form.food_allergies }}</h2>
                 <h2>Are you interested in Aso Ebi?:</h2><h2>{{ guest_form.aso_ebi }}</h2>
                 <h2>Have you already paid for your Aso Ebi?</h2><h2>{{ guest_form.aso_ebi_paid }}</h2>
                 <h2>Do you plan on staying in the hotel block?</h2><h2>{{ guest_form.hotel_accomodations }}</h2>

                  <input type="submit" class="b ph3 mt3 white bg-green ba b--black bg-transparent grow  f3" value="Submit" />
                </form>
        
            </div>
  </body>
  {% endblock content %}
</html>
